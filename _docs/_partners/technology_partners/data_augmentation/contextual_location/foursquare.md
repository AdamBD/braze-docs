---
nav_title: Foursquare
alias: /partners/foursquare/
---

# Foursquare Integration

To unlock even more powerful location-based campaign targeting, Braze provides a seamless product integration with location intelligence company [Foursquare](https://foursquare.com/).

You can use Foursquare’s Pilgrim SDK on iOS and Android to provide real-time event triggering based upon your users’ location in the physical world, allowing you to harness Foursquare’s powerful geo-targeting capabilities and take action with Braze.

This partnership integration opens up a variety of powerful use-cases to help you personalize your users' experiences:

* Send customers a notification when they arrive at or leave a particular location based upon Foursquare contextual data, such as a concert venue or Home.
* Trigger coupons or promotions for high-value customers when they arrive at a location.
* Gather key demographic or behavioral data over time for richer retargeting.

## Integration Details

To enable this integration, first integrate the Braze and Foursquare Pilgrim SDKs on Android and iOS. To integrate the Pilgrim SDK you simply add a few lines of code to your AppDelegate on iOS or MainActivity class on Android. You’ll then instantly began receiving visit events on the device or to a webhook - even when your app isn’t running.

In order to properly map the Braze and Foursquare SDKs, you will need to set the same user ID in both systems, using the `changeUser` method in the Braze SDK and the `setUserId` method of `PilgrimUserInfo` in the Pilgrim SDK.

Next, find your App Group and App IDs on the Developer Console section of the Braze Dashboard.

![Braze Developer Console]({% image_buster /assets/img_archive/dev-console.png %})

Enter your Braze REST API Key and (optionally) App IDs in the Foursquare Pilgrim Console:

![Pilgrim Developer Console]({% image_buster /assets/img_archive/pilgrim-dev-console.png %})

Once you have configured the Pilgrim Console, the Pilgrim SDK will automatically track location events and forward them to Braze, allowing you to retarget and segment your customers. See the [Foursquare developer site](https://developer.foursquare.com/) for more details.

{% alert important %}
Pilgrim SDK requires that you enable location services.
{% endalert %}

## Triggering Messages based upon Location events

You can set up a Campaign or Canvas in the Braze Dashboard that will action off of location events generated by the Pilgrim SDK. This integration route is ideal for real-time messaging right as users enter a venue of interest, or delayed follow-on communication after they've left it (e.g. a thank you note or reminder).

For example, you can setup an Action-Based Campaign within Braze that will send messages when a user arrives at home. Create a Campaign (or a Canvas) in Braze, and set it to send using Action-Based Delivery. For your trigger, use a Custom Event of `arrival` with an event property filter for `locationType` as shown below:

![Pilgrim Developer Console]({% image_buster /assets/img_archive/action-based-campaign.png %})

## Retargeting users based upon their last known location

You can use the Pilgrim SDK to set a `last_location` Custom Attribute on your Braze users' User Profiles. You can then use the "matches regex" comparison to retarget users who went to a particular location in the real world: for example, segmenting all users who were recently at a pizza place.

![Pilgrim Developer Console]({% image_buster /assets/img_archive/last-location-segment.png %})

You can also segment users in Braze who visited a particular type of venue, based on Foursquare's `primaryCategoryId` in a particular window of time. To leverage this data point for your retargeting use cases, please log `primaryCategoryId` as an event property during your audience segmentation process. To identify the users and properties used by the Foursquare API and Pilgrim SDK, please refer to the [Foursquare developer site](https://developer.foursquare.com/).
